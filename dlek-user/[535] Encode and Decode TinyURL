import java.util.HashMap;
import java.util.Map;
import java.util.UUID;

public class Codec {

    private static final String BASE_URL = "http://tinyurl.com/";
    private Map<String, String> shortToLong;

    public Codec() {
        shortToLong = new HashMap<>();
    }

    public String encode(String longUrl) {
        String key = UUID.randomUUID().toString().substring(0, 6);
        shortToLong.put(key, longUrl);
        return BASE_URL + key;
    }

    public String decode(String shortUrl) {
        String key = shortUrl.replace(BASE_URL, "");
        return shortToLong.get(key);
    }
}
